<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>
        1.10 -- 表达式简介
    </title>

    <link rel="stylesheet" href="../../css/main.css"/>
    <link rel="stylesheet" href="../../css/highlightjs.css">
    <link rel="stylesheet" href="../../css/linenumbercool.css"/>
    <script src="../../script/highlight.js"></script>
    <script src="../../script/highlight-cpp.js"></script>
    <script src="../../script/highlightjs-line-numbers.js"></script>
    <script>hljs.highlightAll();</script>
    <script>hljs.initLineNumbersOnLoad({singleLine: true});</script>
</head>

<body>
<h1>
    1.10 -- 表达式简介
</h1>
<h2>
    表达式
</h2>
<p>
    看下列语句：
</p>
<pre><code class="language-cpp">// five() 是返回值为 5 的函数
int five()
{
    return 5;
}

int main()
{
    int a{ 2 };             // 把变量 a 初始化为字面值 2
    int b{ 2 + 3 };         // 把变量 b 初始化为计算得到的值 5
    int c{ (2 * 3) + 4 };   // 把变量 c 初始化为计算得到的值 10
    int d{ b };             // 把变量 d 初始化为变量的值 5
    int e{ five() };        // 把变量 e 初始化为函数的返回值 5

    return 0;
}</code></pre>
<p>
    每条语句都定义了新变量并初始化。注意上面的初始化器使用了多种不同的结构：字面量、变量、运算符、函数调用。C++ 通过某种方式把这些东西转换成单个的值，就可以用于变量的初始化值。
</p>
<p>
    它们的共同点是什么？就是使用了表达式。
</p>
<p>
    <strong>表达式</strong>（<strong>expression</strong>）是字面量、变量、运算符、函数调用等元素的组合，用于计算一个单独的值。计算表达式的值的过程叫做 <strong>求值</strong>（<strong>evaluation</strong>），它产生的单独的值叫作这个表达式的 <strong>结果</strong>（<strong>result</strong>）。
</p>
<div class="learncpp-blocktext-grey">
    <p class="learncpp-block-title">
        延申阅读
    </p>
    <p>
        绝大多数表达式都用来求值，但表达式也可以用来识别对象（可被求值并得出对象持有的值）或函数（可被调用来得出函数返回的值）。<a href="../Chap12/Chap12-02.html" target="_blank">12.2 -- 值类型：左值与右值</a> 一课中有更多讨论。
    </p>
    <p>
        目前可以暂时认为所有的表达式都是用来求值的。
    </p>
</div>
<p>
    表达式求值时，表达式里的每一项都要被求值，直到只剩一个值。下面的例子里有许多种不同的表达式，注释标明了它们是如何求值的：
</p>
<pre><code class="language-cpp">2               // 2 是字面值, 求值得 2
&quot;Hello world!&quot;  // &quot;Hello world!&quot; 是字面值, 求值得文本 &quot;Hello world!&quot;
x               // x 是变量, 求值得 x 的值
2 + 3           // 运算符 + 用操作数 2 与 3 计算出值 5
five()          // 计算得函数 five() 的返回值</code></pre>
<p>
    如你所见，字面值求值就是它自己。变量求值就是变量的值。运算符（比如 <code class="inline">+</code>）使用它的操作数计算得另一个数。目前还没讲到函数调用，但在表达式的语境下，函数调用求值就是函数的返回值。
</p>
<p>
    包含带有副作用的表达式可能要麻烦一些：
</p>
<pre><code class="language-cpp">x = 5           // 带有给 x 赋值为 5 的副作用, 求值得 x
x = 2 + 3       // 带有给 x 赋值为 5 的副作用, 求值得 x
std::cout &lt;&lt; x  // 带有把 x 的值显示到控制台的副作用, 求值得 std::cout</code></pre>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<p>
    
</p>
<hr/>
<nav>
    <a href="Chap01-11.html">[ 下一课：1.11 -- 开发首个程序 ]</a><br/>
    <a href="../../index.html" target="_blank">[ 目录 ]</a><br/>
    <a href="" target="_blank">[ 原文地址 ]</a><br/>
    <a href="Chap01-09.html">[ 上一课：1.9 -- 字面值与运算符简介 ]</a>
</nav>
</body>
</html>