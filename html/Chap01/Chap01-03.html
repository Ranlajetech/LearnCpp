<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>
        1.3 -- 对象与变量简介
    </title>

    <link rel="stylesheet" href="../../css/main.css"/>
    <link rel="stylesheet" href="../../css/highlightjs.css">
    <link rel="stylesheet" href="../../css/linenumbercool.css"/>
    <script src="../../script/highlight.js"></script>
    <script src="../../script/highlight-cpp.js"></script>
    <script src="../../script/highlightjs-line-numbers.js"></script>
    <script>hljs.highlightAll();</script>
    <script>hljs.initLineNumbersOnLoad({singleLine: true});</script>
</head>

<body>
<h1>
    1.3 -- 对象与变量简介
</h1>
<h2>
    数据与值
</h2>
<p>
    在 <a href="Chap01-01.html" target="_blank">1.1 -- 语句与程序结构</a> 一节中，我们学到程序中大多数指令都是语句，函数是一组按顺序执行的语句。函数中的语句执行的操作产生程序设计上所想要的结果（希望如此）。
</p>
<p>
    程序实际上是怎么产生结果的呢？是通过操作（读写修改）数据。在计算过程中，<strong>数据</strong>（<strong>data</strong>）是可被计算机移动、处理、储存的信息。
</p>
<div class="learncpp-blocktext-violet">
    <p class="learncpp-block-title">
        知识重点
    </p>
    <p>
        程序是通过操作数据来得出目标结果的一组指令。
    </p>
</div>
<p>
    程序可以通过许多方式获取所需的数据：从文件或数据库中读取、从网络中下载、从用户的键盘输入读取、或者程序员直接把数据放到程序源码里。在之前课程中提到的 <em>HelloWorld</em> 程序中，文本 <code class="inline">Hello world!</code> 是直接插入到代码中的，给程序提供所需的数据。程序运行时操作这段数据，把它发送到显示屏并显示出来。
</p>
<p>
    计算机中的数据以便于存储或处理的格式存储（不适合人类阅读）。因此，当 <em>HelloWorld</em> 程序编译之后，<code class="inline">Hello world!</code> 这段文本就被转换成更高效的格式以便程序使用（用二进制，在以后的课程中会讨论）。
</p>
<p>
    单独的数据称为 <strong>值</strong>（<strong>value</strong>）。值的常见例子包括字符（例如 <code class="inline">a</code>）、数字（例如 <code class="inline">5</code>）、文本（例如 <code class="inline">Hello world!</code>）等。
</p>
<h2>
    内存（RAM，随机存取存储器）
</h2>
<p>
    计算机中的主存储器叫做 <strong>内存</strong>（随机存取存储器，<strong>RAM</strong>，Random Access Memory）。运行程序时，操作系统把程序加载到内存里。此时，所有硬编码到程序里的数据（例如文本 <code class="inline">Hello world!</code>）都被加载了。
</p>
<p>
    操作系统在程序运行时也会为其保留一些额外的内存。这些内存一般用于存储用户输入的数据，从文件或网络上读取的数据，或程序运行时产生的数据（比如两数之和）以便以后使用。
</p>
<p>
    你可以认为内存就是一系列有编号的盒子，可以用来在程序运行期间存储数据。
</p>
<p>
    某些古老的编程语言里（比如 Applesoft BASIC），可以直接访问这些盒子（比如可以写语句：“去 7532 号盒子里取数据”）。
</p>
<h2>
    对象与变量
</h2>
<p>
    C++ 不鼓励直接访问内存，而是通过对象间接地访问。<strong>对象</strong>（<strong>object</strong>）是存储（一般是内存）上的一段，可以储存值，也可以有一些相关的性质（以后的课程里会介绍）。编译器和操作系统如何给对象分配内存超出了本教程的范围。这里的关键在于，不要说“去 7532 号盒子里取数据”，而是“去取这个对象储存的值。”。这样我们就可以专注于用对象来存取值，不用再去考虑内存里这些对象实际是怎么放置的。
</p>
<p>
    尽管 C++ 的对象可以没有名称（匿名的），我们更经常用一个标识符给对象命名。具有名字的对象称为 <strong>变量</strong>（<strong>variable</strong>）。
</p>
<div class="learncpp-blocktext-violet">
    <p class="learncpp-block-title">
        知识重点
    </p>
    <p>
        对象用于在内存中存储值。变量是有名字（标识符）的对象。
    </p>
    <p>
        给对象命名可以在后面的程序中再次用名字指代它们。
    </p>
</div>
<div class="learncpp-blocktext-grey">
    <p class="learncpp-block-title">
        术语
    </p>
    <p>
        在一般的编程业内，<em>对象</em> 一词一般指内存中未命名的对象、变量、内存等。在 C++ 中，<em>对象</em> 包括的范围要更狭窄一些，它不包括函数。
    </p>
</div>
<h2>
    变量的实例化
</h2>
<p>
    创建变量要使用一种特殊的声明语句，称为 <strong>定义</strong>（<strong>definition</strong>）。（以后会澄清声明和定义之间的区别）。
</p>
<p>
    以下是一个定义变量 <code class="inline">x</code> 的例子：
</p>
<pre><code class="language-cpp">int x; // 定义名为 x 的 int 类型变量</code></pre>
<p>
    代码编译时，编译器看到这条语句，它会记录下来定义了一个变量，命名为 <code class="inline">x</code>，类型是 <code class="inline">int</code>（稍后再讨论类型）。从这里开始（存在一些限制，在以后的课程里会讲），只要编译器看到标识符 <code class="inline">x</code>，它就会知道指的是这个变量。
</p>
<p>
    程序运行时，变量会被实例化。<strong>实例化</strong>（<strong>instantiation</strong>）是指创建一个对象并给它分配内存地址的过程。变量必须先实例化，之后才能用于存储值。作为例子，假设变量 <code>x</code> 在内存地址 140 处实例化。当程序使用变量 <code>x</code> 时，就会访问内存地址 140。实例化的对象，也称 <strong>实例</strong>（<strong>instance</strong>）。
</p>
<h2>
    数据类型
</h2>
<p>
    目前为止，我们已经学过变量是可以存储数据值的一块具名的存储区域（数据具体怎么存储的是未来课程中的主题之一）。<strong>数据类型</strong>（<strong>data type</strong>），更常称为 <strong>类型</strong>（<strong>type</strong>），告诉编译器变量的值是什么种类（例如数字，字母，或者文本等等）。
</p>
<p>
    在上面的例子中，变量 <code class="inline">x</code> 具有类型 <code class="inline">int</code>，意思是变量 <code class="inline">x</code> 表示一个整数值。<strong>整数</strong>（<strong>integer</strong>）指没有小数部分的数，例如 <code class="inline">4</code>，<code class="inline">27</code>，<code class="inline">0</code>，<code class="inline">-2</code>，<code class="inline">-12</code>。为了简便，可以说 <code class="inline">x</code> 是整数变量。
</p>
<p>
    C++ 中，<strong>编译期</strong>（<strong>compile-time</strong>，指编译程序时）就必须知道变量的类型。重新编译程序之前变量的类型不能更改。这意味着整数变量只能存储整数值。如果想存储其他类型的值，那就需要使用不同的类型。
</p>
<p>
    整数只是 C++ 原生支持的类型之一。为了说明这一点，这里有个定义变量为 <code class="inline">double</code> 类型的例子：
</p>
<pre><code class="language-cpp">double width; // 定义一个名为 width 的 double 类型变量</code></pre>
<p>
    C++ 也允许自定义类型。这是在未来的课程中会大篇幅讲述的内容，也是 C++ 强大力量的来源之一。
</p>
<p>
    在前期这几个导论章节里，我们会一直使用像整数变量这样的较为简单的概念，但也会很快介绍 C++ 提供的众多类型（包括 <code>double</code>）。
</p>
<h2>
    定义多个变量
</h2>
<p>
    可以在单条语句中使用逗号定义多个 <em>同类型</em> 的变量。下面两条代码片段是等价的：
</p>
<pre><code class="language-cpp">int a;
int b;</code></pre>
<p>
    等价于
</p>
<pre><code class="language-cpp">int a, b;</code></pre>
<p>
    用这种形式定义多个变量时，新程序员经常犯两种错误（都不是很严重，因为编译器会告诉你这里错了）：
</p>
<p>
    第一种错误是在每个变量前都写上类型。
</p>
<pre><code class="language-cpp">int a, int b; // 错误 (编译错误)

int a, b; // 正确</code></pre>
<p>
    第二种错误是在同一条语句中定义多个不同类型的变量。不同类型的变量必须分开定义。
</p>
<pre><code class="language-cpp">int a, double b; // 错误 (编译错误)

int a; double b; // 正确 (但不推荐)

// 正确, 推荐 (便于阅读)
int a;
double b;</code></pre>
<div class="learncpp-blocktext-green">
    <p class="learncpp-block-title">
        最佳实践
    </p>
    <p>
        尽管语言允许这么做，但请避免在单条语句中定义多个同类型的变量。每个变量都请用单独一行的语句定义（并用单行注释注明是做什么用的）。
    </p>
</div>
<h2>
    总结
</h2>
<p>
    C++ 使用对象来访问内存。具名的对象叫作变量。变量具有标识符、类型和值（还有其他一些和这里的主题无关的属性）。变量的类型用于决定内存中的值应该如何解读。
</p>
<p>
    下一课中，我们会学习如何给变量赋值，还有怎么使用它们。
</p>
<h2>
    <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-objects-and-variables/#:~:text=Quiz%20time" target="_blank">随堂小测</a>
</h2>
<hr/>
<nav>
    <a href="Chap01-04.html">[ 下一课：1.4 -- 变量的赋值与初始化 ]</a><br/>
    <a href="../../index.html" target="_blank">[ 目录 ]</a><br/>
    <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-objects-and-variables/" target="_blank">[ 原文地址 ]</a><br/>
    <a href="Chap01-02.html">[ 上一课：1.2 -- 注释 ]</a>
</nav>
</body>
</html>